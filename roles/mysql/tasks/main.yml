---

- name: APT | Install few MySQL related tools
  apt: pkg={{ item }} state=latest
  with_items: 
    - mytop
    - percona-toolkit
    - python-mysqldb
  
- name: INCLUDE | Install MySQL (Oracle)
  include: 'mysql.yml'
  when: mysql_server eq 'mysql'

- name: INCLUDE | Install MariaDB
  include: 'mariadb.yml'
  when: mysql_server eq 'mariadb'

- name: INCLUDE | Install Percona Server
  include: 'percona.yml'
  when: mysql_server eq 'percona'

- name: TEMPLATE | Deploy daemon configuration 
  template: src=etc/mysql/conf.d/98-config.cnf.j2 dest=/etc/mysql/conf.d/98-config.cnf.j2
  notify: restart mysql

